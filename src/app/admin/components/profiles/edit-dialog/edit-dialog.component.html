<div class="change-status">
  <h1>{{ 'PROFILES.FORM.EDIT_PROFILE' | translate }}</h1>
  <button
    mat-mini-fab
    color="primary"
    matTooltip="{{ 'PROFILES.TOOLTIP.DISABLE_PROFILE' | translate }}"
    (click)="changeStatus(data.profileId)"
  >
    <mat-icon>person_off</mat-icon>
  </button>
</div>
<p>
  {{ 'PROFILES.FORM.EDIT_DESCRIPTION' | translate }}
</p>
<form [formGroup]="editProfileForm" (ngSubmit)="saveChanges()">
  <div class="inputs">
    <!-- Name Field -->
    <mat-form-field appearance="fill">
      <mat-label>{{ 'PROFILES.NAME' | translate }}</mat-label>
      <input
        matInput
        formControlName="name"
        placeholder="{{ 'PROFILES.NAME' | translate }}"
      />
      <mat-error *ngIf="editProfileForm.get('name')?.invalid">
        {{ 'PROFILES.ERRORS.REQUIRED_NAME' | translate }}
      </mat-error>
    </mat-form-field>

    <!-- Description Field -->
    <mat-form-field appearance="fill">
      <mat-label>{{ 'PROFILES.DESCRIPTION' | translate }}</mat-label>
      <input
        matInput
        formControlName="description"
        placeholder="{{ 'PROFILES.DESCRIPTION' | translate }}"
      />
      <mat-error *ngIf="editProfileForm.get('description')?.invalid">
        {{ 'PROFILES.ERRORS.REQUIRED_DESCRIPTION' | translate }}
      </mat-error>
    </mat-form-field>
  </div>

  <!-- Roles Toggles -->
  <div class="toggles">
    <mat-slide-toggle
      *ngFor="let role of roles"
      [checked]="selectedRoles.includes(role.rolId)"
      (change)="toggleRole(role.rolId, $event.checked)"
    >
      {{ role.name }}
    </mat-slide-toggle>
  </div>

  <!-- Action Buttons -->
  <div class="actions">
    <button mat-button type="button" (click)="cancel()">
      {{ 'PROFILES.ACTIONS.CANCEL' | translate }}
    </button>
    <button mat-flat-button color="accent" type="submit">
      {{ 'PROFILES.ACTIONS.SAVE_CHANGES' | translate }}
    </button>
  </div>
</form>
